# Classroom Economy App - Production Deployment Guide\n\n## Overview\nThis Next.js 14 application has been successfully migrated from Replit to be production-ready for deployment on Vercel or other modern hosting platforms. All Replit dependencies have been removed and replaced with industry-standard solutions.\n\n## Technology Stack\n- **Framework**: Next.js 14 with App Router\n- **Database**: Supabase (PostgreSQL)\n- **Authentication**: Supabase Auth\n- **ORM**: Drizzle ORM\n- **UI**: Tailwind CSS + Radix UI components\n- **Type Safety**: TypeScript\n- **Deployment**: Vercel-ready\n\n## Prerequisites\n1. **Supabase Account**: Create a project at https://supabase.com\n2. **Vercel Account**: For deployment (or any Next.js compatible host)\n3. **Node.js**: Version 18 or higher\n\n## Environment Setup\n\n### 1. Supabase Configuration\n1. Go to [Supabase Dashboard](https://supabase.com/dashboard/projects)\n2. Create a new project\n3. Get your project credentials:\n   - Project URL: `https://your-project-id.supabase.co`\n   - Anon/Public Key: From Project Settings > API\n   - Database URL: From Project Settings > Database (Connection string)\n\n### 2. Environment Variables\nCreate `.env.local` file (copy from `.env.example`):\n```bash\n# Supabase Configuration\nNEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url\nNEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key\nDATABASE_URL=your_supabase_database_url\n\n# Application Configuration\nNEXT_PUBLIC_APP_URL=http://localhost:3000\nNODE_ENV=development\n```\n\n### 3. Database Setup\n1. Push your schema to Supabase:\n   ```bash\n   npm run db:push\n   ```\n2. If you get data-loss warnings, use:\n   ```bash\n   npm run db:push --force\n   ```\n\n## Local Development\n\n```bash\n# Install dependencies\nnpm install\n\n# Set up environment variables\ncp .env.example .env.local\n# Edit .env.local with your Supabase credentials\n\n# Push database schema\nnpm run db:push\n\n# Start development server\nnpx next dev --port 5000\n```\n\nApplication will be available at http://localhost:5000\n\n## Deployment on Vercel\n\n### 1. Connect Repository\n1. Push your code to GitHub\n2. Go to [Vercel Dashboard](https://vercel.com/dashboard)\n3. Click \"New Project\" and import your repository\n\n### 2. Configure Environment Variables\nIn Vercel project settings, add:\n- `NEXT_PUBLIC_SUPABASE_URL`\n- `NEXT_PUBLIC_SUPABASE_ANON_KEY`\n- `DATABASE_URL`\n- `NODE_ENV=production`\n\n### 3. Deploy\nVercel will automatically:\n- Build your Next.js application\n- Deploy to global CDN\n- Provide HTTPS certificate\n- Set up custom domain (optional)\n\n## Project Structure\n```\n.\n├── app/                    # Next.js App Router\n│   ├── api/               # API routes\n│   │   ├── auth/         # Authentication endpoints\n│   │   └── classrooms/   # Classroom management\n│   ├── dashboard/        # Dashboard page\n│   ├── globals.css       # Global styles\n│   └── layout.tsx        # Root layout\n├── components/           # Reusable UI components\n│   └── ui/              # shadcn/ui components\n├── lib/                 # Utilities and configurations\n│   ├── supabase/        # Supabase client setup\n│   ├── database.ts      # Drizzle schema\n│   └── errors.ts        # Error handling\n├── utils/               # Utility functions\n│   ├── constants.ts     # App constants\n│   └── validation.ts    # Validation schemas\n├── hooks/               # React hooks\n├── middleware.ts        # Next.js middleware (auth)\n├── next.config.mjs      # Next.js configuration\n└── package.json         # Dependencies\n```\n\n## Database Schema\nThe application uses Drizzle ORM with PostgreSQL. Key entities:\n- **Users**: Teachers and students with role-based access\n- **Classrooms**: Classroom management with join codes\n- **Assignments**: Classroom assignments and tasks\n- **Economy**: Token-based classroom economy system\n\n## Authentication Flow\n1. **Registration**: Teachers can register with email/password\n2. **Login**: Email/password authentication via Supabase\n3. **Session Management**: Automatic token refresh\n4. **Protected Routes**: Middleware-based protection\n\n## API Endpoints\n- `POST /api/auth/register/teacher` - Teacher registration\n- `POST /api/auth/login/teacher` - Teacher login\n- `POST /api/auth/signout` - Sign out\n- `GET|POST /api/classrooms` - Classroom operations\n\n## Security Features\n- Environment variable validation\n- Request validation with Zod schemas\n- SQL injection protection via Drizzle ORM\n- CSRF protection via Next.js\n- Secure cookie handling\n- Rate limiting ready (add middleware as needed)\n\n## Production Optimizations\n- TypeScript strict mode enabled\n- Build-time error checking\n- Optimized bundle size\n- Image optimization\n- Static generation where possible\n- CDN-ready assets\n\n## Monitoring & Debugging\n- Structured error handling\n- Environment-specific error messages\n- Built-in Next.js analytics ready\n- Supabase dashboard for database monitoring\n\n## Migration Notes\nThis application has been completely migrated from:\n- ❌ **Replit dependencies** → ✅ **Standard hosting**\n- ❌ **Express.js server** → ✅ **Next.js API routes**\n- ❌ **Local database** → ✅ **Supabase PostgreSQL**\n- ❌ **Custom auth** → ✅ **Supabase Authentication**\n- ❌ **Mixed architecture** → ✅ **Clean Next.js structure**\n\nAll Replit-specific code and dependencies have been removed, making this a standard, deployable Next.js application.\n\n## Support\nFor deployment issues:\n1. Check Vercel deployment logs\n2. Verify environment variables are set correctly\n3. Ensure Supabase connection is working\n4. Check Next.js build process completes successfully\n\nThe application is now production-ready and follows modern web development best practices."